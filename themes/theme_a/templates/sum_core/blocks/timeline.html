{% load wagtailcore_tags wagtailimages_tags %}

<section class="py-24 md:py-32 bg-sage-oat/30 border-y border-sage-black/5">
    <div class="max-w-7xl mx-auto px-6">
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-16 lg:gap-24 items-start">
            <header class="reveal lg:col-span-2 lg:sticky lg:top-32 lg:self-start">
                {% if self.eyebrow %}
                    <span class="text-sage-terra font-accent italic text-xl block mb-3">
                        {{ self.eyebrow }}
                    </span>
                {% endif %}

                {% if self.heading %}
                    <div class="font-display text-4xl md:text-5xl text-sage-black leading-tight">
                        {{ self.heading|richtext }}
                    </div>
                {% endif %}

                {% if self.intro %}
                    <div class="mt-6 text-sage-label font-light text-lg leading-relaxed">
                        {{ self.intro|richtext }}
                    </div>
                {% endif %}
            </header>

            <div class="lg:col-span-3">
                <ol class="space-y-8 md:space-y-12 list-none">
                    {% for item in self.items %}
                        <li class="relative border-l border-sage-black/10 pl-8 md:pl-12 pb-8 reveal{% if not forloop.first %} delay-{{ forloop.counter0 }}00{% endif %}">
                            <span class="absolute left-0 -translate-x-1/2 transform top-0 inline-flex h-12 w-12 items-center justify-center rounded-full bg-sage-black text-sage-linen text-xs font-mono tracking-[0.2em]">
                                {{ item.date_label }}
                            </span>
                            <div class="pt-1 space-y-3">
                                <div class="font-display text-2xl md:text-3xl text-sage-black leading-snug">
                                    {{ item.heading }}
                                </div>
                                <div class="prose prose-sm max-w-none text-sage-label font-light">
                                    {{ item.body|richtext }}
                                </div>
                                {% if item.image %}
                                    <figure class="mt-2">
                                        {% image item.image fill-1200x720 class="w-full rounded-lg shadow-sm" alt=item.image_alt %}
                                        {% if item.image_alt %}
                                            <figcaption class="text-sm text-sage-label mt-2">{{ item.image_alt }}</figcaption>
                                        {% endif %}
                                    </figure>
                                {% endif %}
                            </div>
                        </li>
                    {% endfor %}
                </ol>
            </div>
        </div>
    </div>
</section>
