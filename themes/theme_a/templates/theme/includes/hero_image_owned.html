{# Template-owned hero image section for HomePage #}
{# Renders page.hero_* fields using the standard hero_image block template #}
{% load wagtailimages_tags wagtailcore_tags %}

{% if page.hero_image %}
<div class="relative h-screen min-h-[700px] flex items-center justify-center overflow-hidden bg-sage-black group">

    {# Background Container #}
    <div class="absolute inset-0 z-0 select-none">
        {% image page.hero_image original as hero_img %}
        <img src="{{ hero_img.url }}"
             alt="{{ page.hero_image_alt }}"
             class="w-full h-[120%] object-cover object-center -translate-y-10" />

        {# Overlay Mapping: none/light/medium/strong #}
        {% if page.hero_overlay_opacity == 'none' %}
            <div class="absolute inset-0 bg-black/0"></div>
        {% elif page.hero_overlay_opacity == 'light' %}
            <div class="absolute inset-0 bg-black/30"></div>
        {% elif page.hero_overlay_opacity == 'medium' %}
            <div class="absolute inset-0 bg-black/60"></div>
        {% elif page.hero_overlay_opacity == 'strong' %}
            <div class="absolute inset-0 bg-black/75"></div>
        {% else %}
             {# Fallback default to medium/60 if unknown #}
            <div class="absolute inset-0 bg-black/60"></div>
        {% endif %}
    </div>

    {# Content Wrapper #}
    <div class="relative z-10 text-center max-w-5xl mt-20 px-4">

        {# Status / Eyebrow #}
        {% if page.hero_status %}
            <p class="font-accent text-sage-oat text-xl italic mb-4">
                {{ page.hero_status }}
            </p>
        {% endif %}

        {# Headline #}
        <h1 class="font-display text-5xl md:text-7xl lg:text-8xl text-sage-linen mb-6">
            {{ page.hero_headline|richtext }}
        </h1>

        {# Subheadline #}
        {% if page.hero_subheadline %}
            <p class="text-sage-linen max-w-lg mx-auto text-base md:text-lg mb-10">
                {{ page.hero_subheadline }}
            </p>
        {% endif %}

        {# CTAs from hero_ctas InlinePanel #}
        {% if page.hero_ctas.all %}
            <div class="flex flex-col sm:flex-row gap-6 justify-center items-center">
                {% for cta in page.hero_ctas.all %}
                    {% if cta.style == 'primary' or forloop.first %}
                        {# Primary Style #}
                        <a href="{{ cta.url }}"
                           class="btn btn-primary"
                           {% if cta.open_in_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
                            {{ cta.label }}
                        </a>
                    {% else %}
                        {# Secondary/Outline Style #}
                        <a href="{{ cta.url }}"
                           class="btn btn-outline-inverse"
                           {% if cta.open_in_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
                            <span>{{ cta.label }}</span>
                            <svg class="btn__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                            </svg>
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
    </div>

    {# Floating Card (Only if both label and value exist) #}
    {% if page.hero_floating_card_label and page.hero_floating_card_value %}
        <div class="hidden lg:block absolute bottom-24 right-24 bg-white/10 backdrop-blur-md border border-white/20 p-6 max-w-xs text-left">
            <p class="text-sage-oat text-sm uppercase tracking-wider mb-1">
                {{ page.hero_floating_card_label }}
            </p>
            <p class="text-white font-display text-4xl">
                {{ page.hero_floating_card_value }}
            </p>
        </div>
    {% endif %}

</div>
{% endif %}
